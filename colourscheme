#!/usr/bin/sh

colourscheme=$1

alacritty_base=~/.config/alacritty/base.yml
alacritty_colours=~/.config/alacritty/themes/${colourscheme}.yml
alacritty_config=~/.config/alacritty/alacritty.yml

colour_list="dracula
nord
solarized-dark
solarized-light"

# Alacritty
change_alacritty() {
    [ -f $alacritty_base ] && [ -f $alacritty_colours ] \
	&& echo "## DO NOT EDIT! This file is automatically generated from base.yml" > $alacritty_config \
	&& cat $alacritty_base $alacritty_colours >> $alacritty_config
}

# Neovim
change_nvim() {
    command -v nvim \
	&& echo $1 > ~/.config/nvim/colours.vim
}

case $colourscheme in
    list)
        echo "$colour_list"
        ;;
    dracula)
        change_alacritty
        change_nvim 'colorscheme dracula'
        ;;
    nord)
        change_alacritty
        change_nvim 'colorscheme nord'
        ;;
    solarized-dark)
        change_alacritty
        change_nvim 'colorscheme NeoSolarized\nset background=dark'
        ;;
    solarized-light)
        change_alacritty
        change_nvim 'colorscheme NeoSolarized\nset background=light'
        ;;
    *)
        echo -e "Supported colourschemes:\n${colour_list}"
        ;;
esac
