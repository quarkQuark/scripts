#!/usr/bin/sh

colourscheme=$1

alacritty_base="$HOME/.config/alacritty/base.yml"
alacritty_themes_dir="$HOME/.config/alacritty/themes"
alacritty_config="$HOME/.config/alacritty/alacritty.yml"

nvim_colours_file="$HOME/.config/nvim/colours.vim"

colour_list="dracula
nord
solarized-dark
solarized-light"

change_alacritty() {
    alacritty_colours="${alacritty_themes_dir}/${1}.yml"
    [ -f $alacritty_base ] && [ -f $alacritty_colours ] \
	&& echo "## DO NOT EDIT! This file is automatically generated from base.yml" > $alacritty_config \
	&& cat $alacritty_base $alacritty_colours >> $alacritty_config
}

change_nvim() {
    add_line() {
        [ -f $nvim_colours_file ] \
          && echo $1 > $nvim_colours_file
    }
    case $1 in
        dracula)         add_line "colorscheme dracula"                            ;;
        nord)            add_line "colorscheme nord"                               ;;
        solarized-dark)  add_line "colorscheme NeoSolarized\nset background=dark"  ;;
        solarized-light) add_line "colorscheme NeoSolarized\nset background=light" ;;
    esac
}

set_colours() {
    change_alacritty
    change_nvim
}
